

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ ‚Ññ8: REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∞–º–∏ —Å MongoDB

## –í—ã–ø–æ–ª–Ω–∏–ª: –¢—É–µ–≤ –î. –≠–§–ú–û-01-25

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MongoDB –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä CRUD –æ–ø–µ—Ä–∞—Ü–∏–π: —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–º–µ—Ç–æ–∫, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ ID, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∏ —É–¥–∞–ª–µ–Ω–∏–µ. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –±–∞–∑–µ Spring Boot 3.5.7 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Data MongoDB –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, Spring Cache –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º HTTP –∑–∞–ø—Ä–æ—Å–æ–≤.

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **Spring Boot 3.5.7** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Spring Web** ‚Äî –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ REST API
- **Spring Data MongoDB** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MongoDB —á–µ—Ä–µ–∑ Repository –ø–∞—Ç—Ç–µ—Ä–Ω
- **Spring Cache** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **MongoDB** ‚Äî NoSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫
- **Lombok** ‚Äî —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (–≥–µ—Ç—Ç–µ—Ä—ã, —Å–µ—Ç—Ç–µ—Ä—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã)
- **Maven** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **Java 17** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**–õ–µ–≥–µ–Ω–¥–∞:** üü¢ –°–æ–∑–¥–∞–Ω–∏–µ ¬∑ üîµ –ß—Ç–µ–Ω–∏–µ ¬∑ üü† –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ¬∑ üî¥ –£–¥–∞–ª–µ–Ω–∏–µ

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –î–µ–π—Å—Ç–≤–∏–µ | –û—Ç–≤–µ—Ç | –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ |
|-------|----------|-----------|----------|-------|-------------|
| üü¢ **POST** | `/api/v1/notes` | - | –°–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É | `201 CREATED` | `JSON` –æ–±—ä–µ–∫—Ç NoteDTO |
| üîµ **GET** | `/api/v1/notes` | `q` (–ø–æ–∏—Å–∫), `limit` (—Ä–∞–∑–º–µ—Ä), `skip` (—Å—Ç—Ä–∞–Ω–∏—Ü–∞) | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º | `200 OK` | `JSON` –º–∞—Å—Å–∏–≤ NoteDTO |
| üîµ **GET** | `/api/v1/notes/{id}` | `id` (UUID) | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–º–µ—Ç–∫—É –ø–æ ID | `200 OK` | `JSON` –æ–±—ä–µ–∫—Ç NoteDTO |
| üü† **PATCH** | `/api/v1/notes/{id}` | `id` (UUID) | –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–º–µ—Ç–∫–∏ | `200 OK` | `JSON` –æ–±—ä–µ–∫—Ç NoteDTO |
| üî¥ **DELETE** | `/api/v1/notes/{id}` | `id` (UUID) | –£–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É | `204 NO_CONTENT` | - |
| üîµ **GET** | `/health` | - | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | `200 OK` | `JSON` —Å—Ç–∞—Ç—É—Å |

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (POST /api/v1/notes):
```json
{
  "title": "My First Note",
  "content": "This is the content of my note"
}
```

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (PATCH /api/v1/notes/{id}):
```json
{
  "content": "Updated content"
}
```

–û—Ç–≤–µ—Ç (GET, POST, PATCH):
```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "title": "My First Note",
  "content": "This is the content of my note",
  "createdAt": "2025-11-18T10:30:00",
  "updatedAt": "2025-11-18T10:30:00"
}
```

–û—Ç–≤–µ—Ç (GET /api/v1/notes —Å —Ñ–∏–ª—å—Ç—Ä–æ–º):
```json
[
  {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "title": "My First Note",
    "content": "Content",
    "createdAt": "2025-11-18T10:30:00",
    "updatedAt": "2025-11-18T10:30:00"
  }
]
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
my/learn/mireaffjpractice8/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ WebConfig.java                          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MVC –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–æ–≤
‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îú‚îÄ‚îÄ MainController.java                     # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è /health –∏ /favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ NoteController.java                     # REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∞–º–∏
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ request/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreateNoteRequest.java              # DTO –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PatchNoteRequest.java               # DTO –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ response/
‚îÇ       ‚îî‚îÄ‚îÄ NoteDTO.java                        # DTO –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ exception/
‚îÇ   ‚îú‚îÄ‚îÄ AppException.java                       # –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ handler/
‚îÇ       ‚îî‚îÄ‚îÄ AppExceptionHandler.java            # –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ interceptor/
‚îÇ   ‚îî‚îÄ‚îÄ LoggingInterceptor.java                 # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îî‚îÄ‚îÄ Note.java                               # –ú–æ–¥–µ–ª—å –∑–∞–º–µ—Ç–∫–∏ (@Document –¥–ª—è MongoDB)
‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îî‚îÄ‚îÄ NoteRepository.java                     # MongoRepository –¥–ª—è –∑–∞–º–µ—Ç–æ–∫
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îî‚îÄ‚îÄ NoteService.java                        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∑–∞–º–µ—Ç–∫–∞–º–∏
‚îú‚îÄ‚îÄ util/
‚îÇ   ‚îî‚îÄ‚îÄ NoteDTOMapper.java                      # –ú–∞–ø–ø–µ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è Note -> NoteDTO
‚îî‚îÄ‚îÄ MireaFfjPractice8Application.java           # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ API —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è](https://lively-flare-564043.postman.co/workspace/My-Workspace~fe2081e8-b325-4776-8b48-400d41f5b4bd/collection/42992055-dbd147c9-cdd6-4e90-ab1b-54ad26d13849?action=share&source=copy-link&creator=42992055)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–∞

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ì–¥–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è | –ß—Ç–æ –∑–Ω–∞—á–∏—Ç / –∫–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è |
| :-- | :-- | :-- | :-- |
| 200 | OK | `getNotes`, `getNoteById`, `patchNoteById`, `/health` | –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏. |
| 201 | Created | `createNote` | –ó–∞–º–µ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –≤ MongoDB. |
| 204 | No Content | `deleteNoteById` | –ó–∞–º–µ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞. |
| 400 | Bad Request | `createNote`, `patchNoteById` | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ (–ø—É—Å—Ç–æ–π JSON, –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏). |
| 404 | Not Found | `getNoteById`, `patchNoteById`, `deleteNoteById` | –ó–∞–º–µ—Ç–∫–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ MongoDB. |
| 500 | Internal Server Error | `AppExceptionHandler` | –ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. |

### –¢–µ—Å—Ç –∫–µ–π—Å—ã

| ‚Ññ | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ú–∞—Ä—à—Ä—É—Ç | –ó–∞–ø—Ä–æ—Å (–ø—Ä–∏–º–µ—Ä) | –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç |
|--|--|--|--|--|
| 1 | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | **GET /health** | - | 200 OK + JSON —Å—Ç–∞—Ç—É—Å |
| 2 | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ | **POST /api/v1/notes** | `{"title":"Note 1","content":"Content"}` | 201 Created + JSON NoteDTO |
| 3 | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–º–µ—Ç–æ–∫ | **GET /api/v1/notes** | - | 200 OK + JSON –º–∞—Å—Å–∏–≤ NoteDTO |
| 4 | –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ —Å –ø–æ–∏—Å–∫–æ–º | **GET /api/v1/notes?q=Note** | - | 200 OK + JSON –º–∞—Å—Å–∏–≤ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö NoteDTO |
| 5 | –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π | **GET /api/v1/notes?limit=10&skip=0** | - | 200 OK + JSON –º–∞—Å—Å–∏–≤ NoteDTO (–º–∞–∫—Å–∏–º—É–º 10) |
| 6 | –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ ID | **GET /api/v1/notes/{id}** | - | 200 OK + JSON NoteDTO |
| 7 | –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏ | **GET /api/v1/notes/{invalid-id}** | - | 404 Not Found |
| 8 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∑–∞–º–µ—Ç–∫–∏ | **PATCH /api/v1/notes/{id}** | `{"content":"Updated"}` | 200 OK + JSON NoteDTO (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π) |
| 9 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏ | **PATCH /api/v1/notes/{invalid-id}** | `{"content":"Updated"}` | 404 Not Found |
| 10 | –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ | **DELETE /api/v1/notes/{id}** | - | 204 No Content |
| 11 | –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏ | **DELETE /api/v1/notes/{invalid-id}** | - | 404 Not Found |

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

![img_5.png](about/health.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 200 OK**, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏

![img.png](about/img.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 201 Created**, –∑–∞–º–µ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ MongoDB —Å UUID –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏.

#### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–º–µ—Ç–æ–∫

![img_1.png](about/img_1.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 200 OK**, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–º–µ—Ç–æ–∫ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

#### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ —Å –ø–æ–∏—Å–∫–æ–º

![img_2.png](about/img_2.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 200 OK**, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–º–µ—Ç–∫–∏, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–±–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞).

#### 5. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

![img_3.png](about/img_3.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 200 OK**, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ —Å–æ–≥–ª–∞—Å–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º limit –∏ skip.

#### 6. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ ID

![img_4.png](about/img_4.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 200 OK**, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–º–µ—Ç–∫—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º UUID.

#### 7. –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏

![img_5.png](about/img_5.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 404 Not Found**, –∑–∞–º–µ—Ç–∫–∞ —Å —Ç–∞–∫–∏–º ID –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ MongoDB.

#### 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∑–∞–º–µ—Ç–∫–∏

![img_6.png](about/img_6.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 200 OK**, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–º–µ—Ç–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–æ, updatedAt –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω.

#### 9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏

![img_7.png](about/img_7.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 404 Not Found**, –ø–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–º–µ—Ç–∫—É.

#### 10. –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏

![img_8.png](about/img_8.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 204 No Content**, –∑–∞–º–µ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ MongoDB.

#### 11. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏

![img_9.png](about/img_9.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **HTTP 404 Not Found**, –ø–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–º–µ—Ç–∫—É.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `application.properties` –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----------|----------|----------|
| MONGO_URI | URI –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB | mongodb://localhost:27017/notes_db |


**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ application.properties:**
```properties
spring.data.mongodb.uri=${MONGO_URI}
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã

#### MongoDB –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ë–î

MongoDB ‚Äî —ç—Ç–æ NoSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ JSON (BSON). –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MongoDB:

- **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî —Å—Ö–µ–º–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (sharding)
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –±—ã—Å—Ç—Ä–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–ª–∞–≥–æ–¥–∞—Ä—è –∏–Ω–¥–µ–∫—Å–∞–º
- **–Ø–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤** ‚Äî –º–æ—â–Ω—ã–π —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏

#### Spring Data MongoDB

Spring Data MongoDB –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å MongoDB —á–µ—Ä–µ–∑ Repository –ø–∞—Ç—Ç–µ—Ä–Ω:

- **MongoRepository** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ—Ç–æ–¥–∞–º–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- **@Document** ‚Äî –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ MongoDB
- **@Id** ‚Äî –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
- **@Indexed** ‚Äî –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤

#### UUID –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è UUID (Universally Unique Identifier) –≤–º–µ—Å—Ç–æ ObjectId:

- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî –æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏–π
- **–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å** ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ë–î
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —Å–ª–æ–∂–Ω–µ–µ —É–≥–∞–¥–∞—Ç—å ID –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏

#### DTO –ø–∞—Ç—Ç–µ—Ä–Ω

DTO (Data Transfer Object) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–¥–µ–ª–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç API:

- –°–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π –≤ MongoDB)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—å–Ω–æ
- –£–ø—Ä–æ—â–∞–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞

#### 1. –ú–æ–¥–µ–ª—å —Å @Document

```java
@Document(collection = "notes")
@Data
@Builder
public class Note {
    @Id
    private UUID id;

    @Indexed(unique = true)
    private String title;

    private String content;

    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
}
```

#### 2. MongoRepository —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏

```java
public interface NoteRepository extends MongoRepository<Note, UUID> {
    List<Note> findByTitleContainingIgnoreCase(String title);
    List<Note> findByTitleContainingIgnoreCase(String title, PageRequest pageable);
}
```

#### 3. –°–µ—Ä–≤–∏—Å —Å CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

```java
@Service
@RequiredArgsConstructor
@Transactional
public class NoteService {
    private final NoteRepository noteRepository;

    public Note createNote(CreateNoteRequest req) {
        Note note = Note.builder()
                .id(UUID.randomUUID())
                .title(req.getTitle())
                .content(req.getContent())
                .createdAt(LocalDateTime.now())
                .updatedAt(LocalDateTime.now())
                .build();
        return noteRepository.save(note);
    }

    public List<Note> getNotes(PageRequest pageable, String title) {
        if (pageable == null && title == null) {
            return noteRepository.findAll();
        }
        if (pageable != null && title != null) {
            return noteRepository.findByTitleContainingIgnoreCase(title, pageable);
        }
        if (title != null) {
            return noteRepository.findByTitleContainingIgnoreCase(title);
        }
        return noteRepository.findAll(pageable).stream().toList();
    }

    public Note findById(String id) {
        Note note = noteRepository.findById(UUID.fromString(id)).orElse(null);
        if (note == null) {
            throw new AppException("Note not found", HttpStatus.NOT_FOUND);
        }
        return note;
    }

    public Note patchNote(PatchNoteRequest req, String id) {
        Note note = findById(id);
        note.setContent(req.getContent());
        note.setUpdatedAt(LocalDateTime.now());
        return noteRepository.save(note);
    }

    public void deleteNoteById(String id) {
        Note note = findById(id);
        noteRepository.delete(note);
    }
}
```

#### 4. REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å –ø–æ–ª–Ω—ã–º CRUD

```java
@RestController
@RequiredArgsConstructor
@RequestMapping("/api/v1/notes")
public class NoteController {
    private final NoteService noteService;
    private final NoteDTOMapper mapper;

    @PostMapping
    public ResponseEntity<NoteDTO> createNote(@RequestBody CreateNoteRequest req) {
        return new ResponseEntity<>(
                mapper.toDTO(noteService.createNote(req)),
                HttpStatus.CREATED
        );
    }

    @GetMapping
    public ResponseEntity<List<NoteDTO>> getNotes(
            @RequestParam(value = "q", required = false) String q,
            @RequestParam(value = "limit", required = false) Integer limit,
            @RequestParam(value = "skip", required = false) Integer page) {
        PageRequest p = null;
        if (limit != null && page != null) {
            p = PageRequest.of(page, limit);
        }
        return new ResponseEntity<>(
                noteService.getNotes(p, q).stream()
                    .map(mapper::toDTO).toList(),
                HttpStatus.OK
        );
    }

    @GetMapping("/{id}")
    public ResponseEntity<NoteDTO> getNoteById(@PathVariable("id") String id) {
        return new ResponseEntity<>(
                mapper.toDTO(noteService.findById(id)),
                HttpStatus.OK
        );
    }

    @PatchMapping("/{id}")
    public ResponseEntity<NoteDTO> patchNoteById(
            @PathVariable("id") String id,
            @RequestBody PatchNoteRequest req) {
        return new ResponseEntity<>(
                mapper.toDTO(noteService.patchNote(req, id)),
                HttpStatus.OK
        );
    }

    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteNoteById(@PathVariable("id") String id) {
        noteService.deleteNoteById(id);
        return new ResponseEntity<>(HttpStatus.NO_CONTENT);
    }
}
```

#### 5. –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```java
@ControllerAdvice
public class AppExceptionHandler {
    @ExceptionHandler
    public ResponseEntity<Object> handleAppException(AppException e) {
        Map<String, String> body = new HashMap<>();
        body.put("message", e.getMessage());
        body.put("status", e.getStatus().getReasonPhrase());
        return new ResponseEntity<>(body, e.getStatus());
    }

    @ExceptionHandler
    public ResponseEntity<Object> handleException(Exception e) {
        Map<String, String> body = new HashMap<>();
        body.put("message", e.getMessage());
        body.put("status", HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase());
        return new ResponseEntity<>(body, HttpStatus.INTERNAL_SERVER_ERROR);
    }
}
```

### –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

#### 1. –ß–µ–º MongoDB –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ë–î?

MongoDB ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è NoSQL –ë–î, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ë–î:

- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç—ã JSON –≤–º–µ—Å—Ç–æ —Ç–∞–±–ª–∏—Ü —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π
- **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **–Ø–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤** ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–º–µ—Å—Ç–æ SQL

#### 2. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è –≤ MongoDB?

–ö–æ–ª–ª–µ–∫—Ü–∏—è ‚Äî –∞–Ω–∞–ª–æ–≥ —Ç–∞–±–ª–∏—Ü—ã –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –ë–î, –Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã JSON –≤–º–µ—Å—Ç–æ –∑–∞–ø–∏—Å–µ–π. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –æ–¥–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- **–ò–Ω–¥–µ–∫—Å—ã** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–æ–≤
- **TTL –∏–Ω–¥–µ–∫—Å—ã** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã** ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

#### 3. –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω MongoRepository?

MongoRepository –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MongoDB:

- **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Äî save(), findById(), delete(), deleteAll()
- **–ü–æ–∏—Å–∫** ‚Äî findAll(), findByX() (–º–µ—Ç–æ–¥—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** ‚Äî findAll(Pageable)
- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç–æ–¥—ã** ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ–∏ –º–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞

#### 4. –ß—Ç–æ —Ç–∞–∫–æ–µ @Indexed –∏ –∑–∞—á–µ–º –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

@Indexed —Å–æ–∑–¥–∞—ë—Ç –∏–Ω–¥–µ–∫—Å –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –ø–æ–ª–µ:

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ–ª—é
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî @Indexed(unique = true) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Äî –∏–Ω–¥–µ–∫—Å—ã –ø–æ–º–æ–≥–∞—é—Ç —É—Å–∫–æ—Ä–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
- **–ö–æ–º–ø—Ä–æ–º–∏—Å—Å** ‚Äî –∏–Ω–¥–µ–∫—Å—ã –∑–∞–Ω–∏–º–∞—é—Ç –ø–∞–º—è—Ç—å –∏ –∑–∞–º–µ–¥–ª—è—é—Ç –≤—Å—Ç–∞–≤–∫—É/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

#### 5. –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è UUID –≤–º–µ—Å—Ç–æ _id?

UUID (Universally Unique Identifier) –∏–º–µ–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî –æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏–π
- **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ë–î** ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —Å–ª–æ–∂–Ω–µ–µ —É–≥–∞–¥–∞—Ç—å ID –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å** ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

#### 6. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –≤ –º–µ—Ç–æ–¥–µ getNotes()?

```java
public List<Note> getNotes(PageRequest pageable, String title) {
    // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ - –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏
    if (pageable == null && title == null) {
        return noteRepository.findAll();
    }
    
    // –ï—Å–ª–∏ –æ–±–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ - –ø–æ–∏—Å–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
    if (pageable != null && title != null) {
        return noteRepository.findByTitleContainingIgnoreCase(title, pageable);
    }
    
    // –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ - –ø–æ–∏—Å–∫
    if (title != null) {
        return noteRepository.findByTitleContainingIgnoreCase(title);
    }
    
    // –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –ø–∞–≥–∏–Ω–∞—Ü–∏—è - –≤—Å–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º
    return noteRepository.findAll(pageable).stream().toList();
}
```

#### 7. –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω DTO –º–∞–ø–ø–µ—Ä?

NoteDTOMapper –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity (Note) –≤ DTO (NoteDTO):

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —Å–∫—Ä—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
- **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ API
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî DTO –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **Versioning** ‚Äî —Ä–∞–∑–Ω—ã–µ API –≤–µ—Ä—Å–∏–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ DTO

## –í—ã–≤–æ–¥—ã

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è ‚Ññ8 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MongoDB –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å NoSQL –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Spring Boot.

**–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π (Create, Read, Update, Delete)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Spring Boot —Å MongoDB —á–µ—Ä–µ–∑ Spring Data MongoDB
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –∑–∞–º–µ—Ç–æ–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –í–Ω–µ–¥—Ä–µ–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω UUID –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ ObjectId
- –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω DTO –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –æ—Ç–¥–µ–ª–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç API

**–ü—Ä–∏–æ–±—Ä–µ—Ç—ë–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏:**

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Spring Boot —Å MongoDB —á–µ—Ä–µ–∑ Spring Data MongoDB
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MongoRepository –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ MongoDB
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –ø–æ–∏—Å–∫–∞ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- –†–∞–±–æ—Ç–∞ —Å UUID –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º ID
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DTO –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å NoSQL –ë–î
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π Lombok –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–¥–∞

